{% extends "admin/partials/base.admin.html.twig" %}

{% block title %}Update Movie{% endblock %}

{% block header %}
{% endblock %}

{% block body %}
<div class="container">
<div class="row my-5">
    <div class="col-md-6 mx-auto">
      <div class="card card-body bg-light">
        <h2>Update <em>{{ movieDetails.title }}</em></h2>
        <p>Please fill in this form to update the movie</p>
    <form action="{{baseUrl}}/admin/movies/updatemovie/{{ movieDetails.movie_id }}" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" name="title" class="form-control" id="title" aria-describedby="emailHelp" value="{{ movieDetails.title }}">
      </div>
      <div class="form-group">
        <label for="release_year">Release Year</label>
        <input type="number" name="release_year" class="form-control" id="release_year" value="{{ movieDetails.release_year }}">
      </div>
      <div class="form-group">
        <label for="director_id">Director</label>
        <select name="director_id" class="form-control" id="director_id">
          <option value="{{ director.id_artist }}">{{ director.firstname_artist }} {{ director.lastname_artist }}</option>
          {% for directorRow in directors %}
          <option value="{{ directorRow.director_id }}">{{ directorRow.firstname_artist }} {{ directorRow.lastname_artist }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlFile1">Movie image input</label>
        <img src="/Uploads/posters/{{ movieDetails.poster }}" width="350">
        <input type="file" name="poster" class="form-control-file" id="exampleFormControlFile1">
      </div>
      <div class="form-group">
        <label for="synopsis">Synopsis</label>
        <textarea name="synopsis" class="form-control" id="synopsis" rows="6" placeholder="Synopsis" >{{ movieDetails.synposis }}</textarea>
      </div>
      <div class="form-group">
        <label for="genre_id">Genre</label>
        <select name="genre_id" class="form-control" id="genre_id">
          {# The genre for the selected movie #}
          <option value="{{ genre.id_genre }}">{{ genre.genre }}</option>
          {# All other genres #}
          {% for genreRow in genres %}
          <option value="{{ genreRow.id_genre }}">{{ genreRow.genre }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" name="submit" class="btn btn-primary" value="Update">Update</button>
    </form>
  </div>
</div>
</div>
</div>
</div>
</div>
{% endblock %}

{% block footer %}
{% endblock %}

{% block javascripts %}
{% endblock %}